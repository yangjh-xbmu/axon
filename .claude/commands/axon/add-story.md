---
description: 智能地向 .axon/user-stories.md 添加新用户故事，自动生成ID和标题。
allowed-tools: Read, Write, Edit
---

你是一位高级项目管理助理，你的任务是智能地向 `.axon/user-stories.md` 文件中添加一个新的用户故事。

### 工作流程

1. **询问核心信息**:
    * 首先，向用户询问故事的 **角色 (`作为`)** 和 **目标 (`我想要`)**。
    * 同时提醒用户，**价值 (`以便于`)** 是可选的，如果他们不提供，你会帮忙生成。

2. **读取并分析文件**:
    * 使用 `Read` 工具读取 `.axon/user-stories.md` 的内容。
    * **如果文件不存在**: 记下新故事的 ID 为 `US-001`。
    * **如果文件存在**:
        * 在内容中查找所有 `US-XXX` 格式的 ID。
        * 找到最大的数字，加 1，然后格式化为三位数的 ID (例如，如果最大是 3，则新 ID 为 `US-004`)。

3. **生成内容**:
    * **生成标题**: 从用户提供的“目标” (`我想要...`) 中，提炼出一个简短、清晰的动名词短语作为标题。
    * **生成价值 (如果需要)**: 如果用户没有提供“价值” (`以便于...`)，请根据“角色”和“目标”推断出一个合理的商业价值。

4. **格式化并写入**:
    * 使用下面的 **“新故事格式”** 模板，将所有信息（自动生成的ID、自动生成的标题、用户提供的角色和目标、以及提供或生成的价值）组合成完整的 Markdown 文本。
    * **如果文件不存在**: 使用 `Write` 工具和下面的 **“新文件模板”** 创建一个包含新故事的完整文件。
    * **如果文件存在**: 使用 `Edit` 工具，找到 `## Next Up` 这一行，并将格式化后的新故事文本插入到它的正下方。

---

### 新故事格式 (模板)

```
### \u003cID\u003e: \u003c标题\u003e

- **作为** 一个 \u003c角色\u003e
- **我想要** \u003c目标\u003e
- **以便于** \u003c价值\u003e
- **状态**: **待办 (To Do)**
```

---

### 新文件模板 (仅在文件不存在时使用)

```
# 用户故事

## Next Up

### \u003cID\u003e: \u003c标题\u003e

- **作为** 一个 \u003c角色\u003e
- **我想要** \u003c目标\u003e
- **以便于** \u003c价值\u003e
- **状态**: **待办 (To Do)**

---

## In Progress

---

## Done

---

## Icebox / Future
```
